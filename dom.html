<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>test dom</title>
</head>
<body>
    <div id="t" style="background-color: red; height:20px;">                </div>
    <div id="t1" style="background-color: red; height:20px;"></div>
	<div id="div1">
		<h3>this is h3 element</h3>
		<p id="p1" class="class1 class2" i="2432432432">
			this is p element
			<strong>this is strong</strong>
		</p>
		<div id="di2">this is div2</div>
	</div>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" name="ttt" alt=""/>
	
    <script type="text/javascript">
		console.log( 'DOM1.0: ', document.implementation.hasFeature('Core', '1.0') );
		console.log( 'DOM2.0: ', document.implementation.hasFeature('Core', '2.0') );
		console.log( 'DOM3.0: ', document.implementation.hasFeature('Core', '3.0') );

        /**
          * HTMLCollection
        var imgs = document.images;
        console.log( imgs.namedItem('ttt') );
        console.log( imgs['ttt'] );
        */

        /**
          * getElementsByTagName
          * 这个接口返回NodeList并非HTMLCollection
          * 也就是说没有namedItem这个方法
		var divs = document.getElementsByTagName('div'); // NodeList
		console.log( divs.item(0) );
		console.log( divs[0] );
		
		var imgs = document.getElementsByTagName('img');
		console.log( imgs[0] );
		console.log( imgs['ttt'] );
		console.log( imgs.namedItem('ttt') ); // error
        */
	
        /**
          * 只对脚步动态创建的有效
        var p1 = document.querySelector('#p1')
        , children = p1.childNodes;
        console.log(children.length); // 3
        for ( var i = 0; i < 3; i++ ) {
            p1.appendChild( document.createTextNode('test code') );
        }
        console.log(children.length); // 6
        p1.normalize();
        console.log(children.length); // 3
        */
	
        /**
          * 对原本存在的DOM使用normalize，没有效果
		var divs1 = document.getElementById('div1');
		console.log(divs1.childNodes.length);
		divs1.normalize();
		console.log(divs1.childNodes.length);
        */
	
		/**
		var divs1 = document.getElementById('div1')
		, h3 = div1.getElementsByTagName('h3')[0];
		h3.onclick = function () {
			alert('ok');
		};
		
		divs1.appendChild( h3.cloneNode(true) );
		*/
	
		/**
		var divs1 = document.querySelector('#div1')
		, h3 = divs1.querySelector('h3');
		divs1.replaceChild( document.querySelector('#di2'), h3 );
		*/
		
		/**
		var divs1 = document.querySelector('#div1')
		, h3 = divs1.querySelector('h3')
		, newP = document.createElement('p');
		newP.innerHTML = 'this is new p element';
		
		divs1.insertBefore( newP, h3 );
		*/
		
		/**
		var divs1 = document.querySelector('#div1');
		divs1.appendChild( divs1.querySelector('h3') );
		*/
		
		
		/**
		var t = document.querySelector('#t');
		console.log(t.nextSibling);
		console.log(t.hasChildNodes());
		*/
		
		/**
		* IE9+, !IE
		var divs1 = document.querySelector('#div1').childNodes;
		
		function converToArray( list ) {
			return Array.prototype.slice.call(list);
		}
		
		console.log( converToArray(divs1) );
		*/

        /**
        var divs1 = document.getElementsByTagName('div')
        , divs2 = document.querySelectorAll('div');

        console.log(divs1 instanceof NodeList); true
        console.log(divs2 instanceof NodeList); true
        */
        
        /**
          * getElementsByTagName 返回的是引用NodeList
          * querySelectorAll 返回的是具体值NodeList

        var divs = document.getElementsByTagName('div')
        , divs2 = document.querySelectorAll('div');

        console.log(divs.length); // 2
        console.log(divs2.length); // 2

        console.log(divs); // [div#t, div#t1, item: function]
        console.log(divs2); // [div#t, div#t1, item: function]
        document.body.removeChild(document.querySelector('#t'));
    
        console.log(divs.length); // 1
        console.log(divs2.length); // 2

        console.log(divs); // [div#t1, item: function]
        console.log(divs2); // [div#t, div#t1, item: function]
        */

        /**
        var t = document.getElementById('t')
        , tq = document.querySelector('#t');

        t.setAttribute('a', 1);

        console.log(tq); // has a
        console.log(t); // has a
        */
    </script>
</body>
</html>
