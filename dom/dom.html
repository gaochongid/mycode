<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>test dom</title>
    <style type="text/css">
        .bg {
            background-color: red;
        }
    </style>
</head>
<body>
    <div id="t" style="background-color: red; height:20px;">                </div>
    <div id="t1" style="background-color: red; height:20px;">will replace</div>
	<div id="div1" data-name="gc">
		<h3>this is h3 element</h3>
		<p id="p1" class="class1 class2" i="2432432432">
			this is p element
			<strong>this is strong</strong>
		</p>
		<div id="di2">this is div2</div>
	</div>
    <div id="myDiv" align="right" myAttr="hello" style="color:red;" onclick="todo()">this is div</div>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" alt=""/>
	<img src="http://www.baidu.com/img/420b_ead78e6081de7939cdf8eff9e608617f.gif" name="ttt" alt=""/>
	
    <form action="" name="f1">
        <input type="text" value="123" />
		
		<input type="submit" value="submit"/>
    </form>
    <button id="r">reset</button>
	
	<ul id="ul" class="c1 c2 c3" style="height: 1000px;">
		<li>1111111111</li>
		<li>1111111111</li>
		<li>
			<ul>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
				<li>2222222222</li>
			</ul>
		</li>
	</ul>
	<p id="scrollIntoView">test scrollIntoView</p>
	<!--
	<script type="text/javascript">
		window.onload = function () {
			console.log('load: ', document.readyState);
		};
	</script>
	-->
	
    <script type="text/javascript">
		// window.addEventListener('load', function () {
			// document.getElementById('scrollIntoView').scrollIntoView();
		// }, false);
		
		// document.querySelector('#t1').insertAdjacentHTML('afterend', '<p>hello world</p>');
		// document.querySelector('#t1').insertAdjacentHTML('beforeend', '<p>hello world</p>');
		// document.querySelector('#t1').insertAdjacentHTML('afterbegin', '<p>hello world</p>');
		// document.querySelector('#t1').insertAdjacentHTML('beforebegin', '<p>hello world</p>');
	
		document.getElementById('t1').outerHTML = '<p>outerHTML replace div</p>'
	
		// document.querySelector('#t').innerHTML = '_<script defer>alert(1);<\/script>';

		/**
		var div = document.getElementById('div1');
		console.log(div.dataset.name);
		*/
		
		// console.log(document.readyState);
	
		// console.log(document.activeElement);
	
		/**
		var ul = document.querySelector('#ul')
		, cl = ul.classList;
		console.log(cl.add('c4'));
		*/
	
		/**
		var ul = document.querySelector('#ul');
		console.log(ul.childElementCount);
		console.log(ul.childNodes.length);
		*/
	
		/**
		var lis = document.querySelector('#ul').querySelectorAll('li');
		console.log(lis);
		console.log(document.querySelectorAll('#ul li'));
		console.log(document.querySelectorAll('#ul > li'));
		document.querySelector('#ul').appendChild(document.createElement('li'));
		*/
	
		/**
		var style = document.createElement('style');
		style.type = 'text/css';
		style.appendChild(document.createTextNode('body {font-size:20px;}'));
		document.getElementsByTagName('head')[0].appendChild(style);
		*/
	
		/**
		var script = document.createElement('script');
		script.type = 'text/javascript';
		script.appendChild( document.createTextNode('var f = function () { alert("ok") }();') );
		document.body.appendChild(script);
		*/
	
		// console.log(document.getElementById('ul').getElementsByTagName('li').length);
	

		/**
        var frag = document.createDocumentFragment();
		for ( var i = 0; i < 3; i++ ) {
			var radio = document.createElement('input');
			radio.setAttribute('type', 'radio');
			radio.setAttribute('name', 's');
			radio.value = i;
			frag.appendChild(radio);
		}
		document.forms['f1'].appendChild(frag);
		document.forms['f1'].addEventListener('submit', function (e) {
			console.log(e);
			
			return false;
		}, false);
		*/

        /**
        // IE8及以下将value重置为空
        var input = document.createElement('input');
        input.setAttribute('type', 'text');
        input.setAttribute('value', 'xxx');
        document.forms['f1'].appendChild(input);
        document.getElementById('r').onclick = function () {
            document.forms['f1'].reset();
        };
        */

        /**
        // 在IE7中name属性被设置成submitName
        var iframe = document.createElement('iframe');
        iframe.setAttribute('name', 'm');
        document.body.appendChild(iframe);
        */ 

        /**
        // 动态创建reset在IE7及以下不能重置表单
        var btn = document.createElement('button');
        btn.setAttribute('type', 'reset');
        btn.appendChild(document.createTextNode('reset button'));
        document.forms['f1'].appendChild(btn);
        */

        /**
		console.log( 'DOM1.0: ', document.implementation.hasFeature('Core', '1.0') );
		console.log( 'DOM2.0: ', document.implementation.hasFeature('Core', '2.0') );
		console.log( 'DOM3.0: ', document.implementation.hasFeature('Core', '3.0') );
        */

        /**
        var myDiv = document.getElementById('myDiv')
        , attrs = myDiv.attributes;

        console.group('attrs');
        console.log(attrs.getNamedItem('align'));
        console.log(attrs.getNamedItem('align').nodeName);
        console.log(attrs.getNamedItem('align').nodeValue);
        console.log(attrs.item(0));
        console.log(attrs.getNamedItem('align') instanceof Attr);
        console.log(myDiv.getAttribute('align'));
        console.log(attrs.removeNamedItem('align'));
        console.groupEnd('attrs');
        */

        /**
        var di2 = document.getElementById('di2');
        di2.setAttribute('class', 'bg');
        di2.setAttribute('style', 'color:yellow');
        */

        /**
        var myDiv = document.getElementById('myDiv');
        console.log( myDiv.id );
        console.log( myDiv.align );
        console.log( myDiv.myAttr );
        console.log('-------------------');
        console.log( myDiv.getAttribute('style') );
        console.log( myDiv.getAttribute('onclick') );
        */

        /**
          * HTMLCollection
        var imgs = document.images;
        console.log( imgs.namedItem('ttt') );
        console.log( imgs['ttt'] );
        */

        /**
          * getElementsByTagName
          * 这个接口返回NodeList并非HTMLCollection
          * 也就是说没有namedItem这个方法
		var divs = document.getElementsByTagName('div'); // NodeList
		console.log( divs.item(0) );
		console.log( divs[0] );
		
		var imgs = document.getElementsByTagName('img');
		console.log( imgs[0] );
		console.log( imgs['ttt'] );
		console.log( imgs.namedItem('ttt') ); // error
        */
	
        /**
          * 只对脚步动态创建的有效
        var p1 = document.querySelector('#p1')
        , children = p1.childNodes;
        console.log(children.length); // 3
        for ( var i = 0; i < 3; i++ ) {
            p1.appendChild( document.createTextNode('test code') );
        }
        console.log(children.length); // 6
        p1.normalize();
        console.log(children.length); // 3
        */
	
        /**
          * 对原本存在的DOM使用normalize，没有效果
		var divs1 = document.getElementById('div1');
		console.log(divs1.childNodes.length);
		divs1.normalize();
		console.log(divs1.childNodes.length);
        */
	
		/**
		var divs1 = document.getElementById('div1')
		, h3 = div1.getElementsByTagName('h3')[0];
		h3.onclick = function () {
			alert('ok');
		};
		
		divs1.appendChild( h3.cloneNode(true) );
		*/
	
		/**
		var divs1 = document.querySelector('#div1')
		, h3 = divs1.querySelector('h3');
		divs1.replaceChild( document.querySelector('#di2'), h3 );
		*/
		
		/**
		var divs1 = document.querySelector('#div1')
		, h3 = divs1.querySelector('h3')
		, newP = document.createElement('p');
		newP.innerHTML = 'this is new p element';
		
		divs1.insertBefore( newP, h3 );
		*/
		
		/**
		var divs1 = document.querySelector('#div1');
		divs1.appendChild( divs1.querySelector('h3') );
		*/
		
		
		/**
		var t = document.querySelector('#t');
		console.log(t.nextSibling);
		console.log(t.hasChildNodes());
		*/
		
		/**
		* IE9+, !IE
		var divs1 = document.querySelector('#div1').childNodes;
		
		function converToArray( list ) {
			return Array.prototype.slice.call(list);
		}
		
		console.log( converToArray(divs1) );
		*/

        /**
        var divs1 = document.getElementsByTagName('div')
        , divs2 = document.querySelectorAll('div');

        console.log(divs1 instanceof NodeList); true
        console.log(divs2 instanceof NodeList); true
        */
        
        /**
          * getElementsByTagName 返回的是引用NodeList
          * querySelectorAll 返回的是具体值NodeList

        var divs = document.getElementsByTagName('div')
        , divs2 = document.querySelectorAll('div');

        console.log(divs.length); // 2
        console.log(divs2.length); // 2

        console.log(divs); // [div#t, div#t1, item: function]
        console.log(divs2); // [div#t, div#t1, item: function]
        document.body.removeChild(document.querySelector('#t'));
    
        console.log(divs.length); // 1
        console.log(divs2.length); // 2

        console.log(divs); // [div#t1, item: function]
        console.log(divs2); // [div#t, div#t1, item: function]
        */

        /**
        var t = document.getElementById('t')
        , tq = document.querySelector('#t');

        t.setAttribute('a', 1);

        console.log(tq); // has a
        console.log(t); // has a
        */
    </script>
</body>
</html>
